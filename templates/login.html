<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Titulo -->
        <title>Edvard Khachatryan Sahakyan Login</title>
        
        <!-- Metas -->
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <!-- Meta Descripción -->
        <meta name="description" content="Edvard Khachatryan Sahakyan - Ambitious artificial intelligence engineer, striving to stay at the forefront of computer science and develop innovative solutions.">
        
        <!-- SearchConsole -->
        <meta name="google-site-verification" content="kFbj5Q2wIECy_Zt63Z9WnHIOi-DbfezJ82_epIMjVeM" />
        
        <!-- Favicon -->
        <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='favicon.ico') }}">

        <!-- bootstrap -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        
        <!-- tailwindcss -->
        <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
        
        <!-- cdnjs.cloudflare.com -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">

        <!-- Estilos Propios -->
        <link rel="stylesheet" href="{{ url_for('static', filename='css/background.css') }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/mouse.css') }}"> 
        <link rel="stylesheet" href="{{ url_for('static', filename='css/btnAviso.css') }}"> 

        <!-- Ajustado Modo Dark en LocalStorage -->
        <script>localStorage.setItem('darkMode', 'enabled');</script>

        <!-- Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-KSYLFBPRHG"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());

          gtag('config', 'G-KSYLFBPRHG');
        </script>
        <!-- Fin de Google Analytics -->

    </head>
    
    <body class="bg-gradient-to-r from-gray-700 via-gray-800 to-gray-900 flex items-center justify-center min-h-screen relative overflow-hidden">

        <div id="background-elements" class="absolute inset-0 z-0"></div>
            
        <div class="bg-white dark:bg-gray-900 shadow-lg rounded-lg p-8 max-w-md w-full z-1">
            <h1 class="text-2xl font-bold text-center mb-6 text-grey-500">Edvard Khachatryan Sahakyan</h1>
        
            <form id="login-form" onsubmit="event.preventDefault(); handleEmailSubmission(document.getElementById('email').value);">
                <div class="my-3 ">
                    <label for="email" class="form-label">Email</label>
                    <input type="email" class="form-control " id="email" name="email" required>
                </div>

                
                <div class="mb-3">
                    <input type="checkbox" id="accept-terms" required>
                    <label for="accept-terms" class="form-label">
                        I accept the <a href="#!" class="text-blue-500" data-toggle="tooltip" title="You can find this in the footer of the website.">legal notice</a>, <a href="#!" class="text-blue-500" data-toggle="tooltip" title="You can find this in the footer of the website.">privacy policy</a>, and <a href="#!" class="text-blue-500" data-toggle="tooltip" title="You can find this in the footer of the website.">cookies</a>
                    </label>
                </div>
                
                
                <div class="d-flex justify-content-around"">
                    <button type="button" class="btn btn-light "
                        data-bs-toggle="tooltip" data-bs-placement="bottom"
                        data-bs-custom-class="custom-tooltip"
                        data-bs-title="Please enter your email address. You will receive a number, which you will need to select on this website for 
                    authentication and personal security. This applies to all users accessing this site.">
                    Instructions
                    </button>

                    <button type="submit" id="submit-button" class="btn btn-primary">Submit</button>
                </div>
            </form>
            <div id="nums-container" style="display:none;" class="text-center mt-4"></div>
        </div>
    
        <footer class="fixed-bottom">

            <!-- Cookie Notice Button -->
            <button class="btnA" data-bs-toggle="modal" data-bs-target="#cookieModal1">Cookie Notice</button>

            <!-- Cookie Notice Modal -->
            <div class="modal mt-20 text-dark z-3" id="cookieModal1" tabindex="-1">
              <div class="modal-dialog w-100 h-50">
                <div class="modal-content  w-100">
                  <div class="modal-header  w-100">
                    <h5 class="modal-title ">Cookie Notice</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body w-100">
                    <p>We use cookies to improve your experience on our website. Cookies are small text files that are stored on your device when you visit our site. By providing your email and accessing our site, you consent to our use of cookies as outlined below:</p>

                    <ol>
                        <li><strong>Essential Cookies</strong>: These cookies are necessary for the website to function properly and cannot be disabled in our systems. They are usually set in response to actions you take, such as setting your privacy preferences or filling out forms.</li>

                        <li><strong>Analytics Cookies</strong>: We use Google Analytics to help us understand how visitors interact with our website. These cookies collect information about your use of the site, such as the pages you visit and the time you spend on each page. This helps us to improve our website's performance and user experience.</li>

                        <li><strong>Advertising Cookies</strong>: These cookies may be used to deliver advertisements that are relevant to you and your interests. They are also used to limit the number of times you see an advertisement and to measure the effectiveness of advertising campaigns.</li>
                    </ol>

                    <p>By providing your email and continuing to use our website, you are agreeing to our use of cookies. You can change your cookie preferences at any time by adjusting your browser settings. For more information, please read our <a href="#cookie-policy">Cookie Policy</a> and <a href="#privacy-policy">Privacy Policy</a>.</p>

                    <p>If you have any questions about our use of cookies, feel free to contact us at <a href="mailto:info@edvardks.com">info@edvardks.com</a>.</p>

                    <p>Thank you for visiting our website!</p>
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Accept</button>
                  </div>
                </div>
              </div>
            </div>

            <!-- Legal Notice Button -->
            <button class="btnA" data-bs-toggle="modal" data-bs-target="#legalModal1">Legal Notice</button>

            <!-- Legal Notice Modal -->
            <div class="modal mt-20 text-dark z-3" id="legalModal1" tabindex="-1">
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title">Legal Notice</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                    <div class="modal-body">
                        <p>By using this website, you agree to our <a href="#cookie-policy">Cookie Policy</a> and <a href="#privacy-policy">Privacy Policy</a>. We are committed to protecting your personal data and respecting your privacy.</p>

                        <b>Information We Collect</b>
                        <p>We may collect personal data such as your name, email address, and other information when you fill out forms on our site. This information is used to provide services, improve our website, and communicate with you.</p>

                        <b>Use of Your Information</b>
                        <p>Your information may be used for the following purposes:</p>

                            <i>To respond to your inquiries and provide customer support.</i>
                            <i>To improve our website and services based on user feedback.</i>
                            <i>To send periodic emails regarding your order or other products and services.</i>
                            <i>To comply with legal obligations and protect our rights.</i>


                        <b>Data Protection Rights</b>
                        <p>You have the right to request access to the personal data we hold about you, as well as the right to request the correction or deletion of your data. To exercise these rights, please contact us at <a href="mailto:info@edvardks.com">info@edvardks.com</a>.</p>

                        <b>Third-Party Services</b>
                        <p>We may use third-party services, such as Google Analytics, to help us understand how our users engage with the website. These services may collect information sent by your browser as part of a web page request. For more information, please refer to their privacy policies.</p>

                        <b>Changes to This Legal Notice</b>
                        <p>We may update this legal notice from time to time. We will notify you of any changes by posting the new notice on this page. You are advised to review this notice periodically for any changes.</p>

                    </div>

                  <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Accept</button>
                  </div>
                </div>
              </div>
            </div>

        </footer>
            
        <script src="{{ url_for('static', filename='js/background.js') }}"></script>
        <script src="{{ url_for('static', filename='js/mouse.js') }}"></script>
        <script src="{{ url_for('static', filename='js/btnAviso.js') }}"></script>
        
        <!-- Bootstrap JS -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        
        <!-- Popper.js -->
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        
        <script>
            // Initialize tooltips
            $(document).ready(function() {
                $('[data-bs-toggle="tooltip"]').tooltip();
            });
            function handleEmailSubmission(email) {
                const submitButton = document.getElementById('submit-button');
                submitButton.innerText = 'Sending...';
                submitButton.disabled = true;
    
                fetch('/sendnumbers', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ email: email })
                })
                .then(response => response.json())
                .then(data => {
                    if (data.status === 'success') {
                        // Esconder el formulario y mostrar los números
                        document.getElementById('login-form').style.display = 'none';
                        const numsContainer = document.getElementById('nums-container');
                        numsContainer.style.display = 'block';
                        numsContainer.innerHTML = '';
                        data.numbers.forEach(num => {
                            const button = document.createElement('button');
                            button.innerHTML = num;
                            button.className = 'btn btn-secondary m-2';
                            button.onclick = () => verifyNumber(num);
                            numsContainer.appendChild(button);
                        });
                    }
                });
            }
    
            function verifyNumber(num) {
                fetch('/verify', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ number: num })
                })
                .then(response => response.json())
                .then(data => {
                    if (data.status === 'success') {
                        window.location.href = '/';
                    } else {
                        alert('Verification failed. Please try again.');
                    }
                });
            }
        </script>
    </body>

</html>